@echo off
REM ================================================
REM Скрипт для добавления изменений и отправки их в удалённый репозиторий
REM с возможностью передачи сообщения коммита в качестве параметра
REM ================================================

REM Установить кодировку в UTF-8
chcp 65001 >nul

REM Проверка наличия параметра
if "%~1"=="" (
    echo Использование: %0 "Ваше сообщение коммита"
    exit /b 1
)

REM Установить сообщение коммита из параметра
set COMMIT_MESSAGE=%~1

REM Перейти в директорию репозитория
cd /d C:\_work11\bookCatalog || (
    echo Ошибка: Не удалось перейти в директорию репозитория.
    exit /b 1
)

REM Добавить все изменения в индекс
git add .

REM Создать коммит с сообщением
git commit -m "%COMMIT_MESSAGE%"

REM Отправить изменения в удалённый репозиторий
git push origin master

REM ================================================
REM Конец скрипта
REM ================================================